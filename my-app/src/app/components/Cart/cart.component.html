<div class="cart-container">
  <!-- Titre principal -->
  <h1 class="cart-title">üõçÔ∏è Mon Panier</h1>

  <!-- Affichage si le panier est vide -->
  <div *ngIf="items.length === 0" class="empty-cart">
    <div class="empty-cart-content">
      <i class="fas fa-shopping-cart"></i>
      <p>Votre panier est vide pour le moment.</p>
      <a href="/client/products" class="btn-continue">üõí Continuer vos achats</a>
    </div>
  </div>

  <!-- Affichage si le panier contient des articles -->
  <div *ngIf="items.length > 0" class="cart-content">
    <!-- Liste des articles -->
    <div *ngFor="let item of items" class="cart-item">
      <!-- Image du produit -->
      <div class="cart-item-image">
        <!--<img [src]="item.product.imageUrl" alt="{{ item.product.name }}" /> -->
      </div>

      <!-- Informations produit -->
      <div class="cart-item-info">
        <h2 class="product-name">{{ item.product.name }}</h2>

        <!-- Prix et promotions -->
        <div class="price-section">
          <ng-container *ngIf="hasActivePromotion(item)">
            <span class="original-price">{{ item.product.price | currency: 'EUR' }}</span>
            <span class="promo-price">{{ getItemPrice(item) | currency: 'EUR' }}</span>
            <span class="discount">(-{{ item.product.promotion?.discountPercentage }}%)</span>
          </ng-container>
          <ng-container *ngIf="!hasActivePromotion(item)">
            <span class="price">{{ item.product.price | currency: 'EUR' }}</span>
          </ng-container>
        </div>

        <!-- Contr√¥les pour la quantit√© -->
        <div class="quantity-controls">
          <button (click)="decrementQuantity(item)" [disabled]="item.quantity <= 1" class="quantity-btn">‚àí</button>
          <span class="quantity">{{ item.quantity }}</span>
          <button (click)="incrementQuantity(item)" [disabled]="item.quantity >= item.product.stock" class="quantity-btn">+</button>
        </div>
      </div>

      <!-- Bouton pour supprimer l'article -->
      <button (click)="removeItem(item)" class="remove-item-btn">
        <i class="fas fa-trash"></i> <!-- Ic√¥ne de corbeille -->
      </button>
    </div>

    <!-- R√©sum√© du panier -->
    <div class="cart-summary">
      <div class="summary-details">
        <p>Total articles : <strong>{{ items.length }}</strong></p>
        <p>Total √† payer : <strong>{{ total | currency: 'EUR' }}</strong></p>
      </div>
      <div class="summary-actions">
        <button (click)="clearCart()" class="btn-clear">Vider le panier</button>
        <button (click)="proceedToCheckout()" class="btn-checkout">Passer √† la caisse</button>
      </div>
    </div>
  </div>
</div>
