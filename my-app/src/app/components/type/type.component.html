<div class="types-container">
  <div class="header">
    <h2>Types de produits</h2>
    <button class="add-btn" (click)="showForm = !showForm">
      {{ showForm ? 'Annuler' : 'Ajouter un type' }}
    </button>
  </div>

  @if (error) {
    <div class="alert error">{{ error }}</div>
  }

  @if (success) {
    <div class="alert success">{{ success }}</div>
  }

  @if (showForm) {
    <div class="type-form">
      <form (ngSubmit)="createType()">
        <div class="form-group">
          <label for="name">Nom*</label>
          <input
            id="name"
            type="text"
            [(ngModel)]="newType.name"
            name="name"
            placeholder="Ex: CrÃ¨mes hydratantes"
            required
            maxlength="200"
          >
        </div>

        <div class="form-group">
          <label for="description">Description*</label>
          <textarea
            id="description"
            [(ngModel)]="newType.description"
            name="description"
            placeholder="Description du type de produit"
            required
            rows="3"
          ></textarea>
        </div>

        <div class="form-group">
          <label for="icon">IcÃ´ne*</label>
          // Dans le template, remplacer la partie select par :
          <div class="form-group">
            <label for="icon">IcÃ´ne*</label>
            <select
              id="icon"
              [(ngModel)]="newType.icon"
              name="icon"
              required
              class="icon-select"
            >
              <option value="">SÃ©lectionner une icÃ´ne</option>
              <option value="ğŸ§´">ğŸ§´ CrÃ¨mes & Lotions</option>
              <option value="ğŸ‘„">ğŸ‘„ Soins des lÃ¨vres</option>
              <option value="ğŸ‘ï¸">ğŸ‘ï¸ Soins des yeux</option>
              <option value="âœ¨">âœ¨ Soins visage</option>
              <option value="ğŸ’…">ğŸ’… Soins des ongles</option>
              <option value="ğŸ’†â€â™€ï¸">ğŸ’†â€â™€ï¸ Massages</option>
              <option value="ğŸ›">ğŸ› Soins corps</option>
              <option value="ğŸ’„">ğŸ’„ Maquillage</option>
              <option value="ğŸŒ¿">ğŸŒ¿ Naturel & Bio</option>
              <option value="ğŸ§ª">ğŸ§ª Traitements spÃ©cifiques</option>
              <option value="â˜€ï¸">â˜€ï¸ Protection solaire</option>
              <option value="ğŸŒº">ğŸŒº Parfums</option>
              <option value="ğŸ’‡â€â™€ï¸">ğŸ’‡â€â™€ï¸ Soins cheveux</option>
              <option value="ğŸ">ğŸ Coffrets</option>
              <option value="â­">â­ Premium</option>
            </select>
          </div>

          // Ajouter ces styles pour amÃ©liorer l'apparence du sÃ©lecteur :
          .icon-select {
          width: 100%;
          padding: 0.75rem;
          border: 1px solid #e5e7eb;
          border-radius: 6px;
          font-size: 1rem;
          background-color: white;
          cursor: pointer;

          option {
          padding: 0.5rem;
          font-size: 1rem;
          }

          &:focus {
          outline: none;
          border-color: #4f46e5;
          box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
          }
          }

          <div class="form-actions">
            <button type="submit" [disabled]="isLoading">
              {{ isLoading ? 'CrÃ©ation...' : 'CrÃ©er le type' }}
            </button>
          </div>
      </form>
    </div>
  }

  <div class="types-list">
    @for (type of types; track type.id_type) {
      <div class="type-card">
        <div class="type-icon">{{ type.icon }}</div>
        <div class="type-content">
          <h3>{{ type.name }}</h3>
          <p>{{ type.description }}</p>
        </div>
        <div class="type-actions">
          <button class="edit-btn" (click)="editType(type)">
            âœï¸ Modifier
          </button>
          <button class="delete-btn" (click)="confirmDelete(type)">
            ğŸ—‘ï¸ Supprimer
          </button>
        </div>
      </div>
    }
    @if (types.length === 0) {
      <div class="no-types">
        Aucun type de produit n'a Ã©tÃ© crÃ©Ã©
      </div>
    }
  </div>
</div>
