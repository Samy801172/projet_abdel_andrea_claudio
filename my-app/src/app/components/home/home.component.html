<div class="home-container">
  <!-- Hero Section -->
  <section class="hero" *ngIf="!isAuthenticated">
    <div class="hero-content">
      <!-- Logo inline SVG pour garantir l'affichage -->
      <svg class="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 200">
        <!-- Background Pills -->
        <circle cx="80" cy="100" r="60" fill="#e8f4ff"/>

        <!-- Medical Cross -->
        <path d="M60 80 h40 v-40 h40 v40 h40 v40 h-40 v40 h-40 v-40 h-40 z" fill="#4A90E2"/>

        <!-- Company Name -->
        <text x="200" y="115" font-family="Arial" font-size="48" font-weight="bold" fill="#2C3E50">
          GOHAN-MEDIC
        </text>

        <!-- Tagline -->
        <text x="200" y="145" font-family="Arial" font-size="18" fill="#7F8C8D">
          Votre pharmacie en ligne
        </text>

        <!-- DNA Helix Accent -->
        <path d="M180 70 q10 -10 20 0 t20 0 t20 0" stroke="#4A90E2" fill="none" stroke-width="3"/>
        <path d="M180 80 q10 10 20 0 t20 0 t20 0" stroke="#2980B9" fill="none" stroke-width="3"/>
      </svg>

      <h1>Gohan-Medic</h1>  Bienvenu {{ username }}
      <p class="tagline">Votre pharmacie en ligne de confiance</p>
      <div class="cta-buttons">
        <a routerLink="/login" class="btn-primary">Se connecter</a>
        <a routerLink="/register" class="btn-secondary">S'inscrire</a>
      </div>
    </div>
  </section>
  <!-- Apr√®s la section hero -->

  <section class="promotions">
    <h2>Promotions du Mois</h2>


    <div class="promo-grid">
      @for (promo of activePromotions; track promo.id_product) {
        <div class="promo-card">
          <div class="product-image">
            <img [src]="'assets/' + (promo.imageUrls[0] || 'default-product.jpg')" [alt]="promo.name">

          </div>
          <div class="product-details">
            <h3>{{promo.name}}</h3>
            <p>{{promo.description}}</p>
            <div class="price-container">
              <span class="original-price">{{promo.price}}‚Ç¨</span>
              <span class="discounted-price" *ngIf="promo.promotionPrice">
            {{promo.promotionPrice}}‚Ç¨
          </span>
            </div>
            <!-- S√©curisation de l'acc√®s √† endDate -->
            @if (promo.activePromotion && promo.activePromotion.endDate) {
              <app-promotion-timer [endDate]="promo.activePromotion.endDate">
              </app-promotion-timer>
            }
          </div>
        </div>
      }
    </div>
  </section>

  <section class="new-products">
    <h2>Nouveaux M√©dicaments</h2>
    <div class="products-grid">
      @for (product of newProducts; track product.id_product) {
        <div class="product-card">
          <div class="product-image">
            <img [src]="'assets/' + getImageFilename(product.name)" [alt]="product.name">
          </div>
          <div class="product-details">
            <h3>{{product.name}}</h3>
            <p>{{product.description}}</p>
            <span class="price">{{product.price}}‚Ç¨</span>
          </div>
        </div>
      }
    </div>
  </section>

</div>

<!-- Avantages Section -->
<section class="features">
  <div class="features-grid">
    <div class="feature-card">
      <div class="icon">üíä</div>
      <h3>M√©dicaments sur Mesure</h3>
      <p>Service de pr√©paration magistrale personnalis√©e</p>
    </div>
    <div class="feature-card">
      <div class="icon">üöö</div>
      <h3>Livraison Rapide</h3>
      <p>Recevez vos m√©dicaments en toute s√©curit√©</p>
    </div>
    <div class="feature-card">
      <div class="icon">üë®‚Äç‚öïÔ∏è</div>
      <h3>Conseils d'Experts</h3>
      <p>Une √©quipe de pharmaciens √† votre √©coute</p>
    </div>
  </div>
</section>

<!-- Services Section -->
<section class="services">
  <h2>Nos Services</h2>
  <div class="service-grid">
    @for (service of services; track service.title) {
      <div class="service-card">
        <img [src]="service.image" [alt]="service.title">
        <h3>{{service.title}}</h3>
        <p>{{service.description}}</p>
      </div>
    }
  </div>
</section>
<footer class="footer">
  <p>&copy; {{ currentYear }} Gohan-Medic. Tous droits r√©serv√©s.</p>
</footer>
