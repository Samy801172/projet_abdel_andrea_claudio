<div class="manufacturing-form">
  <h2>Demande de Fabrication sur Mesure</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="form-container">
    <div class="form-group">
      <label for="type">Type de médicament*</label>
      <select id="type" formControlName="type" class="form-control">
        <option value="">Sélectionnez un type</option>
        <option value="capsules">Gélules</option>
        <option value="cream">Crème</option>
      </select>
      <div *ngIf="form.get('type')?.touched && form.get('type')?.invalid" class="error-message">
        Type de médicament requis
      </div>
    </div>

    <div class="form-group">
      <label for="doctorName">Nom du Médecin*</label>
      <input 
        id="doctorName" 
        type="text" 
        formControlName="doctorName" 
        class="form-control"
        placeholder="Dr. Nom du médecin">
      <div *ngIf="form.get('doctorName')?.touched && form.get('doctorName')?.invalid" class="error-message">
        Nom du médecin requis
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description*</label>
      <textarea 
        id="description" 
        formControlName="description" 
        class="form-control"
        placeholder="Description détaillée de la préparation"
        rows="4">
      </textarea>
      <div *ngIf="form.get('description')?.touched && form.get('description')?.invalid" class="error-message">
        Description requise
      </div>
    </div>

    <div class="form-group">
      <label for="instructions">Instructions supplémentaires</label>
      <textarea 
        id="instructions" 
        formControlName="instructions" 
        class="form-control"
        placeholder="Instructions spécifiques (optionnel)"
        rows="3">
      </textarea>
    </div>

    <div class="form-group">
      <label for="prescriptionFile">Ordonnance* (PDF ou Image)</label>
      <div class="file-upload">
        <input 
          type="file" 
          id="prescriptionFile"
          (change)="onFileSelected($event)"
          accept=".pdf,.jpg,.jpeg,.png"
          class="form-control">
        <div *ngIf="prescriptionFile" class="file-name">
          {{ prescriptionFile.name }}
        </div>
      </div>
      <div *ngIf="!prescriptionFile && form.touched" class="error-message">
        Ordonnance requise
      </div>
    </div>

    <div class="form-actions">
      <button 
        type="submit" 
        [disabled]="!form.valid || !prescriptionFile"
        class="btn btn-primary">
        Soumettre la demande
      </button>
    </div>
  </form>
</div> 