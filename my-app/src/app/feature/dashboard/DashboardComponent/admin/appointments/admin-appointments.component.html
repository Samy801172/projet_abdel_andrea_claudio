<div class="appointments-container">
  <!-- En-tête -->
  <header class="page-header">
    <h2>Gestion des Rendez-vous</h2>
  </header>

  <!-- Section En Attente -->
  <section class="appointments-section">
    <h3>
      Rendez-vous en Attente
      <span *ngIf="getAppointmentsByStatus('en attente').length > 0" class="notification-badge">
      {{ getAppointmentsByStatus('en attente').length }}
    </span>
    </h3>
    <div *ngIf="getAppointmentsByStatus('en attente').length === 0" class="no-data">
      Aucun rendez-vous en attente
    </div>
    <div *ngIf="getAppointmentsByStatus('en attente').length > 0" class="appointments-grid">
      <div *ngFor="let appointment of getAppointmentsByStatus('en attente')" class="appointment-card">
        <!-- Contenu du rendez-vous -->
        <div class="appointment-header">
          <h4>Rendez-vous #{{ appointment.appointmentId }}</h4>
          <p>{{ appointment.appointmentDate | date: 'dd/MM/yyyy' }} à {{ appointment.time }}</p>
        </div>
        <div class="appointment-body">
          <p><strong>Client :</strong> {{ appointment.client?.lastName }} {{ appointment.client?.firstName }}</p>
          <p><strong>Service :</strong> {{ appointment.service?.name }}</p>
          <p class="status pending">Statut : En Attente</p>
        </div>
        <div class="appointment-actions">
          <button class="confirm-btn" (click)="confirmAppointment(appointment)">
            Confirmer
          </button>
          <button class="cancel-btn" (click)="cancelAppointment(appointment)">
            Annuler
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Sections par statut -->
  <div class="appointments-sections">
    <!-- Section Confirmé -->
    <section class="appointments-section">
      <h3>Rendez-vous Confirmés</h3>
      <div *ngIf="getAppointmentsByStatus('confirmé').length === 0" class="no-data">
        Aucun rendez-vous confirmé
      </div>
      <div *ngIf="getAppointmentsByStatus('confirmé').length > 0" class="appointments-grid">
        <div *ngFor="let appointment of getAppointmentsByStatus('confirmé')" class="appointment-card">
          <!-- Contenu du rendez-vous -->
          <div class="appointment-header">
            <h4>Rendez-vous #{{ appointment.appointmentId }}</h4>
            <p>{{ appointment.appointmentDate | date: 'dd/MM/yyyy' }} à {{ appointment.time }}</p>
          </div>
          <div class="appointment-body">
            <p><strong>Client :</strong> {{ appointment.client?.lastName }} {{ appointment.client?.firstName }}</p>
            <p><strong>Service :</strong> {{ appointment.service?.name }}</p>
            <p class="status confirmed">Statut : Confirmé</p>
          </div>
          <div class="appointment-actions">
            <button class="cancel-btn" (click)="cancelAppointment(appointment)">
              Annuler
            </button>
            <button class="delete-btn" (click)="deleteAppointment(appointment)">
              Supprimer
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Section Annulé -->
    <section class="appointments-section">
      <h3>Rendez-vous Annulés</h3>
      <div *ngIf="getAppointmentsByStatus('annulé').length === 0" class="no-data">
        Aucun rendez-vous annulé
      </div>
      <div *ngIf="getAppointmentsByStatus('annulé').length > 0" class="appointments-grid">
        <div *ngFor="let appointment of getAppointmentsByStatus('annulé')" class="appointment-card">
          <!-- Contenu du rendez-vous -->
          <div class="appointment-header">
            <h4>Rendez-vous #{{ appointment.appointmentId }}</h4>
            <p>{{ appointment.appointmentDate | date: 'dd/MM/yyyy' }} à {{ appointment.time }}</p>
          </div>
          <div class="appointment-body">
            <p><strong>Client :</strong> {{ appointment.client?.lastName }} {{ appointment.client?.firstName }}</p>
            <p><strong>Service :</strong> {{ appointment.service?.name }}</p>
            <p class="status canceled">Statut : Annulé</p>
          </div>
          <div class="appointment-actions">
            <button class="delete-btn" (click)="deleteAppointment(appointment)">
              Supprimer
            </button>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
