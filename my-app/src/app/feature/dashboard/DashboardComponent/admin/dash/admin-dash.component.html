<div class="dashboard">
  <!-- En-tête du tableau de bord -->
  <header class="dashboard-header">
    <div class="header-left">
      <h1>Bienvenue sur Gohan Medic - Votre Tableau de Bord</h1>
      <p>
        <!-- Affichage du nom du client et de la date/heure actuelle -->
        Heureux de vous revoir, {{ client.firstName }}, nous sommes le {{ currentTime | date:'dd/MM/yyyy' }}
        et il est {{ currentTime | date:'HH:mm:ss' }}
      </p>
    </div>

    <div class="header-right">
      <!-- Bouton d'aide pour l'utilisateur -->
      <button class="btn btn-help">Besoin d'aide ?</button>
    </div>
  </header>

  <!-- Contenu principal du tableau de bord -->
  <div class="dashboard-content">
    <!-- Section des statistiques principales -->
    <div class="stats-section">
      <div class="stat-card">
        <h3>💼 Total des commandes</h3>
        <div class="progress-circle">
          <!-- Affichage du nombre total de commandes -->
          <span>{{ orderTotal }}</span>
        </div>
        <p>Vous avez géré <strong></strong> ce mois-ci. Bravo !</p>
      </div>

      <div class="stat-card">
        <h3>⏳ Rendez-vous en Attente</h3>
        <p>
          <!-- Vérification du nombre de rendez-vous en attente -->
          <span *ngIf="pendingAppointments > 0">Encore <strong>{{ pendingAppointments }}</strong> rendez-vous à confirmer.</span>
          <span *ngIf="pendingAppointments == 0">Tout est confirmé, bravo !</span>
        </p>
        <!-- Bouton pour gérer les rendez-vous en attente -->
        <button *ngIf="pendingAppointments > 0" class="action-btn" (click)="onManageAppointments()">
          Gérer les Rendez-vous
        </button>
      </div>

      <div class="stat-card">
        <h3>⏳ Commande(s) en Attente</h3>
        <p>
          <!-- Vérification du nombre de commandes en attente -->
          <span *ngIf="pendingOrders > 0">Encore <strong>{{ pendingOrders }}</strong> commande(s) à traiter.</span>
          <span *ngIf="pendingOrders == 0">Tout est traité, bravo !</span>
        </p>
        <!-- Bouton pour gérer les commandes en attente -->
        <button *ngIf="pendingOrders > 0" class="action-btn" (click)="onManageOrders()">
          Gérer les commandes
        </button>
      </div>
    </div>

    <div class="stats-section">
      <div class="stat-card">
        <h3>⏳ Ordonnance(s) en Attente</h3>
        <p>
          <!-- Vérification du nombre d'ordonnances en attente -->
          <span *ngIf="pendingOrdonnance > 0">Encore <strong>{{ pendingOrdonnance }}</strong> Ordonnance(s) à approuver.</span>
          <span *ngIf="pendingOrdonnance == 0">Tout est approuvé, bravo !</span>
        </p>
        <!-- Bouton pour gérer les ordonnances en attente -->
        <button *ngIf="pendingOrdonnance > 0" class="action-btn" (click)="onManageOrdonnance()">
          Gérer les ordonnances
        </button>
      </div>

      <!-- Carte météo affichée uniquement si les données météo sont disponibles -->
      <div class="stat-card-meteo" *ngIf="weatherData">
        <h3>🌤️ Météo à {{ city }}</h3>
        <p>☁️ Conditions : <strong>{{ getWeatherDescription(weatherData.weathercode) }}</strong></p>
        <p>🌡️ Température actuelle : <strong>{{ weatherData.temperature }}°C</strong></p>
        <p>🌬️ Vent : <strong>{{ weatherData.windspeed }} km/h</strong></p>
        <p>🧭 Direction du vent : <strong>{{ weatherData.winddirection | windDirection }}</strong></p>
      </div>

      <div class="stat-card">
        <h3>❌ Annulations de Rendez-vous</h3>
        <p>Total : <span>{{totalAppointment}}</span></p>
        <p>Confirmé(s) : <span>{{confirmedAppointments}}</span></p>
        <p>Annulé(s) : <span>{{canceledAppointments}}</span></p>
        <p>Les rendez-vous en ligne représentent 67% des annulations.</p>
      </div>
    </div>
  </div>
</div>
