<div class="dashboard">
  <!-- En-tête -->
  <header class="dashboard-header">
    <div class="header-left">
      <h1>Bienvenue sur Gohan Medic - Votre Tableau de Bord</h1>
      <p>Heureux de vous revoir, {{ client.firstName }} !</p>
    </div>
    <div class="header-right">
      <button class="btn btn-help">Besoin d'aide ?</button>
    </div>
  </header>

  <!-- Contenu principal -->
  <div class="dashboard-content">
    <!-- Statistiques principales -->
    <div class="stats-section">
      <div class="stat-card">
        <h3>💼 Total des commandes</h3>
        <div class="progress-circle">
          <span>{{ orderTotal }}</span>
        </div>
        <p>Vous avez géré <strong></strong> ce mois-ci. Bravo !</p>
      </div>
      <div class="stat-card">
        <h3>⏳ Rendez-vous en Attente</h3>
        <p>
          <span *ngIf="pendingAppointments > 0">Encore <strong>{{ pendingAppointments }}</strong> rendez-vous à confirmer.</span>
          <span *ngIf="pendingAppointments == 0">Tout est confirmé, bravo !</span>
        </p>
        <!-- Bouton stylé -->
        <button *ngIf="pendingAppointments > 0" class="action-btn" (click)="onManageAppointments()">
          Gérer les Rendez-vous
        </button>
      </div>

      <div class="stat-card">
        <h3>⏳ Commande(s) en Attente</h3>
        <p>
          <span *ngIf="pendingOrders > 0">Encore <strong>{{ pendingOrders }}</strong> commande(s) à traiter.</span>
          <span *ngIf="pendingOrders == 0">Tout est traité, bravo !</span>
        </p>
        <!-- Bouton stylé -->
        <button *ngIf="pendingOrders > 0" class="action-btn" (click)="onManageOrders()">
          Gérer les commandes
        </button>
      </div>
    </div>

    <!-- Graphiques -->
    <div class="charts-section">
      <div class="chart-card">
        <h3>⏳ Ordonnance(s) en Attente</h3>
        <p>
          <span *ngIf="pendingOrdonnance > 0">Encore <strong>{{ pendingOrdonnance }}</strong> Ordonnance(s) à approuver.</span>
          <span *ngIf="pendingOrdonnance == 0">Tout est approuvé, bravo !</span>
        </p>
        <!-- Bouton stylé -->
        <button *ngIf="pendingOrdonnance > 0" class="action-btn" (click)="onManageOrdonnance()">
          Gérer les ordonnances
        </button>
      </div>
      <div class="chart-card" *ngIf="weatherData">
        <h3>🌤️ Météo à {{ city }}</h3>
        <p>☁️ Conditions : <strong>{{ getWeatherDescription(weatherData.weathercode) }}</strong></p>
        <p>🌡️ Température actuelle : <strong>{{ weatherData.temperature }}°C</strong></p>
        <p>🌬️ Vent : <strong>{{ weatherData.windspeed }} km/h</strong></p>
        <p>💧 Humidité : <strong>{{ weatherData.humidity }}%</strong></p>
      </div>


      <div class="chart-card">
        <h3>❌ Annulations de Rendez-vous</h3>
        <p>Total : <span>{{totalAppointment}}</span></p>
        <p>Confirmé(s) : <span>{{confirmedAppointments}}</span></p>
        <p>Annulé(s) : <span>{{canceledAppointments}}</span></p>
        <p>Les rendez-vous en ligne représentent 67% des annulations.</p>
      </div>
    </div>
  </div>
</div>
